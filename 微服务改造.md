# 微服务改造优点
将应用拆分为小型，独立的服务，每个服务专注于特定的业务功能，使得可以独立开发，部署，扩展和维护。  
技术异构性：允许使用不同的技术栈和编程语言去实现独立的应用  

# 短链接微服务改造
https://github.com/Strenuitas/shortlink/blob/main/SpringBoot%E5%8D%95%E4%BD%93%E5%BA%94%E7%94%A8.png
## 1： 下载Nacos

## 2： 服务中引用Nacos进行服务注册

## 3： 改造现有代码使用OpenFeign调用
调用方要引入openfeign依赖，启动类上面加对应的注册中心的注解，然后配置好yaml，设置一个application: name 对应的服务名,springboot 3.0之后不提供默认的负载均衡器，所以需要自己引入一个。  
写一个ShortLinkActualRemoteService @FeignClient("short-link-project")指代被调用方，    
&nbsp;&nbsp; 1 ：SpringCloud会自动去Nacos里面去找这个服务，不需要再代码里面写死ip，  
&nbsp;&nbsp; 2：如果我的短链接服务也就是被调用的服务有多个实例，feign会自动轮训调用，自动负载均衡。  
&nbsp;&nbsp; 3：自动序列化 / 反序列化 @RequestBody自动把DTO转化为JSON，返回值也自动转化为java对象，之前的httpUtil只能自己处理JSON  
&nbsp;&nbsp; 4：内置拦截器、超时、重试、熔断等微服务能力  
&nbsp;&nbsp; 5：写法更优雅，跟写 Controller 一样，调用接口就像调本地方法：  
&nbsp;&nbsp; ```
                 shortLinkFeignClient.updateShortLink(req);  
             ```  
Feign 是 Spring Cloud 官方推荐的 RPC 调用方式。总的来说单体项目用HttpUtil，微服务改造要用feign。  
## 4： 重构网关SpringCloud Gateway  
